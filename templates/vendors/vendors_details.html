{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container" style="max-width: 900px;">

    <!-- Page Title -->
    <h1 style="
        text-align: center;
        font-size: 2.4rem;
        font-weight: 700;
        color: #6a1b9a;
        margin-bottom: 50px;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
    ">
        Vendor Detail
    </h1>

    {% if vendor.is_approved %}
    <!-- Approved Vendor Card -->
    <div style="
        border-radius: 20px;
        background: rgba(255,255,255,0.95);
        backdrop-filter: blur(8px);
        box-shadow: 0 12px 35px rgba(0,0,0,0.12);
        border: 1px solid rgba(255,255,255,0.5);
        padding: 25px;
        transition: transform 0.3s, box-shadow 0.3s;
    "
    onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 18px 45px rgba(0,0,0,0.25)';"
    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 12px 35px rgba(0,0,0,0.12)';">

        <div class="row">

            <!-- Restaurant Image -->
            <div class="col-md-6 text-center">
                {% if vendor.restaurant_img %}
                <img src="{{ vendor.restaurant_img.url }}" 
                     style="width: 100%; max-height: 350px; object-fit: cover; border-radius: 15px; box-shadow: 0 8px 20px rgba(0,0,0,0.15);" 
                     alt="Restaurant Image">
                {% else %}
                <p style="color: #aaa; font-style: italic;">No image available</p>
                {% endif %}
            </div>

            <!-- Details Section -->
            <div class="col-md-6" style="padding-left: 25px;">
                <h2 style="font-weight: 700; color: #4a148c; margin-bottom: 20px; letter-spacing: 0.5px;">
                    {{ vendor.restaurant_name }}
                </h2>
                <p style="font-size: 16px; color: #555; margin-bottom: 10px;">
                    <strong>Vendor:</strong> {{ vendor.vendor_name }}
                </p>
                <p style="font-size: 16px; color: #555; margin-bottom: 10px;">
                    <strong>Address:</strong> {{ vendor.address }}, {{ vendor.city }}
                </p>
                <p style="font-size: 16px; color: #555; margin-bottom: 10px;">
                    <strong>State:</strong> {{ vendor.state }}
                </p>
                <p style="font-size: 16px; color: #555; margin-bottom: 10px;">
                    <strong>Zip Code:</strong> {{ vendor.zip_code }}
                </p>
                <p style="margin-top: 15px;">
                    <span style="
                        font-size: 14px;
                        font-weight: 600;
                        padding: 5px 12px;
                        border-radius: 20px;
                        color: #fff;
                        background-color: #2e7d32;
                        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
                    ">
                        Approved
                    </span>
                </p>
            </div>

        </div>
    </div>

    {% else %}
    <!-- Pending Approval Card -->
    <div style="
        border-radius: 20px;
        background: rgba(255,255,255,0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 12px 35px rgba(0,0,0,0.12);
        border: 1px solid rgba(255,255,255,0.5);
        padding: 50px;
        text-align: center;
    ">

        <!-- Animated Loader -->
        <div class="dot-ring" style="position: relative; width: 70px; height: 70px; margin: 0 auto 30px auto;">
            <span></span><span></span><span></span>
            <span></span><span></span><span></span><span></span>
        </div>

        <h2 style="
            color: #ff8800;
            font-weight: 700;
            font-size: 1.8rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        ">
            Waiting for admin approval...
        </h2>
    </div>
    {% endif %}

</div>

<!-- Inline CSS for Loader -->
<style>
/* Loader Dot Ring */
.dot-ring span {
    position: absolute;
    width: 12px;
    height: 12px;
    background: #6a1b9a;
    border-radius: 50%;
    opacity: 0.2;
    animation: fade 1.2s linear infinite;
    display: block;
}

/* Position 7 dots */
.dot-ring span:nth-child(1) { top: 0%; left: 50%; transform: translate(-50%, 0); animation-delay: 0s; }
.dot-ring span:nth-child(2) { top: 15%; left: 85%; transform: translate(-50%, -50%); animation-delay: 0.1s; }
.dot-ring span:nth-child(3) { top: 50%; left: 100%; transform: translate(-100%, -50%); animation-delay: 0.2s; }
.dot-ring span:nth-child(4) { top: 85%; left: 85%; transform: translate(-50%, -50%); animation-delay: 0.3s; }
.dot-ring span:nth-child(5) { top: 100%; left: 50%; transform: translate(-50%, -100%); animation-delay: 0.4s; }
.dot-ring span:nth-child(6) { top: 85%; left: 15%; transform: translate(-50%, -50%); animation-delay: 0.5s; }
.dot-ring span:nth-child(7) { top: 50%; left: 0%; transform: translate(0, -50%); animation-delay: 0.6s; }

/* Fade animation */
@keyframes fade {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.2; }
}
</style>
{% endblock %}
